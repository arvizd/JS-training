<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<title>模拟发短信</title>
	<script>
		window.onload=function(){
			var content=document.getElementById("content");
			var character=document.getElementById("character");
			var msg=document.getElementById("msg");
			var send=document.getElementById("send");
			var check=/^[\s]*$/; 
			var num=0;
			send.onclick=function(){
				var charIndex=character.selectedIndex;
				var charV=character.options[charIndex].value;
				var charT=character.options[charIndex].text;
				if(check.test(msg.value)){
					alert("输入为空，请重新输入");
					msg.value="";
					msg.focus();
				}
				else{
					if(charV==1){

						content.innerHTML+='<p style ="border-radius:5px;margin-top: 10px;margin-left:50px;font-size: 14px; border:2px solid #64ffe8;position: absolute;right:80px;top:'+num+'px;">'+msg.value+'</p><span style ="color: #5504ff;font-size: 20px;margin-top: 10px;margin-right:20px;position: absolute;right:0;top:'+num+'px;">:'+charT+'</span>';
                        if(msg.value.length>22){
                            num+=60;
                        }
                        num+=50;
					}
					 else{
//					    alert(msg.value.length);

                        content.innerHTML+='<span style =" color: #ff0be5;font-size: 20px;margin-top: 10px;margin-left:20px;position: absolute;left:0;top:'+num+'px;">'+charT+':</span><p style ="border-radius:5px;margin-top: 10px;margin-right:50px;font-size: 14px; border:2px solid #64ffe8;position: absolute;left:80px;top:'+num+'px;">'+msg.value+'</p>';
                        if(msg.value.length>22){
                            num+=60;
                        }
                        num+=50;
					 }
				}
				
			};
		};
	</script>
	<style>
		*{margin:0;padding: 0;}
		#main{width:280px;height:442px;border:1px solid gray;margin:30px auto;}
		#content{width:278px;height:400px;border: 1px solid black;overflow: auto;position:relative;
			background-image: url(images/ex1-2/bg.jpg);
			background-size:232px 390px;
			background-repeat:no-repeat;
			background-position: center center;

			}
		#act{margin-top: 10px;height:20px;margin-bottom: 5px;}
	</style>
</head>
<body>
	<div id="main">
		<div id="content" class="content">
		</div>
		<div id="act">
			<select name="character" id="character" >
				<option value="1">小明</option>
				<option value="2">小红</option>
			</select>
			<input type="text" id="msg"/>
			<input type="button" id="send" value="发送"/>
		</div>
	</div>
</body>
</html>